ra(?A,?B,?C,?D,?E) :- p(?A),p(?B),p(?C),p(?D),p(?E).
rb(?A,?B,?C,?D,?E) :- p(?A),p(?B),p(?C),p(?D),p(?E).

r(?A,?B,?C,?D,?E) :- ra(?A,?B,?C,?D,?E),rb(?A,?B,?C,?D,?E).

a(?A) :- r(?A,?B,?C,?D,?E).
b(?B) :- r(?A,?B,?C,?D,?E).
c(?C) :- r(?A,?B,?C,?D,?E).
d(?D) :- r(?A,?B,?C,?D,?E).
e(?E) :- r(?A,?B,?C,?D,?E).

?- a(?X).
?- b(?X).
?- c(?X).
?- d(?X).
?- e(?X).
